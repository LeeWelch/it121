<html>
    <head>
        <script
                src="https://code.jquery.com/jquery-3.7.1.min.js"
                integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
                crossorigin="anonymous"></script>
    </head>
    <!-- Lee Welch 10/9/24 -->
    <style>
        .over {
            background-color: orange;
        }
        .selected {
            background-color: green;
        }
        /* Button colors */
        .Gryffindor{
            background-color:orange;
        }
        .Hufflepuff{
            background-color:yellow;
        }
        .Slytherin{
            background-color:green;
        }
        .Ravenclaw{
            background-color:blue;
        }

    </style>

    <body>
        <div id="buttons"></div>
        <table border='1'>
            <tr>
                <th>name</th>
                <th>role</th>
                <th>house</th>
                <th>gender</th>
                <th>alignment</th>
            </tr>
        </table>
        <button>reset</button>
    </body>
        
        <script>
        // list of characters
        let characters = [
        {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Nymphadora Tonks", role:"", house:"Hufflepuff",gender:"f",alignment:"good"},    
        {name:"Ron Weasley", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Ginny Weasley", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Hermione Granger", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Mad-eye Moody", role:"staff", house:"",gender:"m",alignment:"good"},    
        {name:"Prof McGonagall", role:"staff", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Harry Potter", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Draco Malfoy", role:"student", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Hagrid", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Luna Lovegood", role:"student", house:"Ravenclaw",gender:"f",alignment:"good"},    
        {name:"Voldemort", role:"", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Bellatrix Lestrange", role:"", house:"Slytherin",gender:"f",alignment:"evil"},           
        {name:"Severus Snape", role:"staff", house:"Slytherin",gender:"m",alignment:"?"}
        ];

        // adds more characters to array 
        characters.push({name: "Sybill Trelawney", role: "staff", house: "Ravenclaw", gender: "f", alignment: "good"}, {name: "Cedric Diggory", role: "student", house: "Hufflepuff", gender: "m", alignment: "good"});

        $(document).ready(function(){

            let uniqueHouses = []; // creates empty array to store unique house names
            // forEach loop creates table rows from character array
            characters.forEach(function(character) {
                let newRow = `<tr> <td>${character.name}</td> <td>${character.role}</td> <td>${character.house}</td> <td>${character.gender}</td> <td>${character.alignment}</td> </tr>`;
                $("table").append(newRow);

                // checks if house names are unique and adds to uniqueHouses array if so 
                if(character.house && !uniqueHouses.includes(character.house)){
                    uniqueHouses.push(character.house);
                }
            });

            // creates buttons from uniqueHouses array, with class names for click handler below
            uniqueHouses.forEach(function(house) {
                $("#buttons").append(`<button type = 'button' class='${house}'>${house}</button>`);
            });

            // alternating colors for all odd rows
            $("tr:odd").css("background-color", "lightgrey");

            // click function for Gryffindor class button 
            $(".Gryffindor").click(function(){
                $("tr").css("background-color", "white"); // sets all row backgrounds to white to undo lightgrey
                $("tr").hide(); // hides all rows
                $("tr:has(th)").show(); // shows column headers
                $("tr:contains('Gryffindor')").show(); // shows rows containing Gryffindor
                $("tr:visible:odd").css("background-color", "orange"); // applies background color to visible and odd rows
            });

            // click functions for other houses function the same as Gryffindor above
            $(".Hufflepuff").click(function(){  
                $("tr").css("background-color", "white");
                $("tr").hide();
                $("tr:has(th)").show();
                $("tr:contains('Hufflepuff')").show();
                $("tr:visible:odd").css("background-color", "yellow");
            });

            $(".Slytherin").click(function(){
                $("tr").css("background-color", "white");
                $("tr").hide();
                $("tr:has(th)").show();
                $("tr:contains('Slytherin')").show();
                $("tr:visible:odd").css("background-color", "green");
            });

            $(".Ravenclaw").click(function(){
                $("tr").css("background-color", "white");
                $("tr").hide();
                $("tr:has(th)").show();
                $("tr:contains('Ravenclaw')").show();
                $("tr:visible:odd").css("background-color", "blue");
            });

            // click handler for reset button 
            $("button:contains('reset')").click(function(){
                $("tr").show(); // shows all rows
                $("tr").css("background-color", "white"); // sets all row backgrounds to white
                $("tr:visible:odd").css("background-color", "lightgrey"); // sets odd row backgrounds to lightgrey
            });

        });

        </script>
</html>